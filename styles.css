:root {
    /* Colors */
    --bg-primary: #f8f9fa;
    --bg-secondary: #ffffff;
    --text-primary: #2d3436;
    --text-secondary: #636e72;
    --accent-color: #6c5ce7;
    --accent-hover: #5b4cc4;
    --error-color: #d63031;
    --success-color: #00b894;
    --border-color: #dfe6e9;
    --glass-bg: rgba(255, 255, 255, 0.9);
    --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 10px 15px rgba(0, 0, 0, 0.1);

    /* Typography */
    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --font-mono: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
}

/* Dark Mode Support (optional, but good for premium feel) */
@media (prefers-color-scheme: dark) {
    :root {
        --bg-primary: #1e1e2e;
        --bg-secondary: #2d2d3f;
        --text-primary: #dfe6e9;
        --text-secondary: #b2bec3;
        --border-color: #4b4b5e;
        --glass-bg: rgba(45, 45, 63, 0.9);
    }
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-main);
    background-color: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.5;
    height: 100vh;
    overflow-x: hidden;
}

.app-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* Header */
.main-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
    margin-bottom: 2rem;
}

.logo {
    font-size: 1.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--accent-color), #a29bfe);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

.language-selector select {
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
}

.language-selector select:hover {
    border-color: var(--accent-color);
}

/* Main Layout */
.main-content {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    flex: 1;
}

/* Game Section */
.game-section {
    background-color: var(--bg-secondary);
    border-radius: 16px;
    padding: 1.5rem;
    /* Reduced from 2rem */
    box-shadow: var(--shadow-md);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.timer-display {
    font-size: 2.5rem;
    /* Reduced from 3rem */
    font-weight: 700;
    font-variant-numeric: tabular-nums;
    color: var(--accent-color);
    margin-bottom: 0.5rem;
    /* Reduced from 1rem */
}

.stage-indicator {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-secondary);
    margin-bottom: 1rem;
    /* Reduced from 1.5rem */
    background: var(--bg-primary);
    padding: 0.2rem 0.6rem;
    border-radius: 20px;
}

.quote-container {
    width: 100%;
    overflow-x: auto;
    margin-bottom: 1rem;
    /* Reduced from 1.5rem */
    padding-bottom: 0.5rem;
    /* Hide scrollbar but keep functionality */
    scrollbar-width: thin;
    white-space: nowrap;
}

.quote-text {
    font-family: var(--font-main);
    /* Or mono if preferred for typing */
    font-size: 1.5rem;
    /* Reduced from 1.8rem */
    font-weight: 700;
    /* Bold */
    color: var(--text-primary);
    display: inline-block;
    padding: 0 0.5rem;
    line-height: 1.3;
    -webkit-user-select: none;
    /* Safari */
    -moz-user-select: none;
    /* Firefox */
    -ms-user-select: none;
    /* IE10+/Edge */
    user-select: none;
    /* Standard */
    cursor: default;
}

@media (max-width: 768px) {
    .quote-text {
        font-size: 1.2rem;
        /* Reduced from 1.4rem */
    }
}

.input-container {
    width: 100%;
    max-width: 600px;
    position: relative;
    margin-bottom: 0.75rem;
    /* Reduced from 1rem */
}

.typing-input {
    width: 100%;
    padding: 0.75rem 1rem;
    /* Reduced vertical padding */
    font-size: 1rem;
    border: 2px solid var(--border-color);
    border-radius: 12px;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: all 0.3s ease;
    outline: none;
}

.typing-input:focus {
    border-color: var(--accent-color);
    box-shadow: 0 0 0 4px rgba(108, 92, 231, 0.1);
}

.typing-input.error {
    border-color: var(--error-color);
    animation: shake 0.4s cubic-bezier(.36, .07, .19, .97) both;
}

@keyframes shake {

    10%,
    90% {
        transform: translate3d(-1px, 0, 0);
    }

    20%,
    80% {
        transform: translate3d(2px, 0, 0);
    }

    30%,
    50%,
    70% {
        transform: translate3d(-4px, 0, 0);
    }

    40%,
    60% {
        transform: translate3d(4px, 0, 0);
    }
}

.input-hint {
    margin-top: 0.25rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
    opacity: 0.7;
}

.feedback-message {
    height: 1.25rem;
    color: var(--error-color);
    font-size: 0.85rem;
    font-weight: 500;
    margin-bottom: 1rem;
    /* Reduced */
}

.game-controls {
    display: flex;
    gap: 1rem;
}

.btn {
    padding: 0.5rem 1.25rem;
    /* Reduced padding */
    border-radius: 8px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.9rem;
}

.btn-secondary {
    background-color: var(--bg-primary);
    color: var(--text-secondary);
}

.btn-secondary:hover {
    background-color: #dfe6e9;
    color: var(--text-primary);
}

.btn-text {
    background: none;
    padding: 0.25rem 0.5rem;
    font-size: 0.8rem;
}

.btn-danger-text {
    color: var(--error-color);
    opacity: 0.7;
}

.btn-danger-text:hover {
    opacity: 1;
    background-color: rgba(214, 48, 49, 0.05);
}

/* Stats Section */
.stats-section {
    background-color: var(--bg-secondary);
    border-radius: 16px;
    padding: 1.25rem;
    /* Reduced */
    box-shadow: var(--shadow-sm);
}

.stats-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.stats-header h2 {
    font-size: 1rem;
    color: var(--text-primary);
}

.stats-card {
    background-color: var(--bg-primary);
    padding: 0.75rem;
    border-radius: 10px;
    margin-bottom: 0.75rem;
}

.stats-card h3 {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
}

.stat-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.25rem;
    font-size: 0.9rem;
}

.stat-value {
    font-weight: 700;
}

/* Responsive Desktop */
@media (min-width: 1025px) {
    .main-content {
        flex-direction: row;
        align-items: flex-start;
        /* Revert to flex-start so items don't stretch to max height */
    }

    .game-section {
        flex: 2;
        /* Remove fixed min-height to let content dictate, or keep small one */
        min-height: auto;
        justify-content: flex-start;
        /* Align content to top */
    }

    .stats-section {
        flex: 1;
        /* Sticky needs to be handled carefully with stretch. 
           If we stretch, the section is tall. We want the content inside to be sticky? 
           Or we just want the backgrounds to align? 
           If we want the box heights to match: stretch is good. 
           But if stats is short, it will have empty space at bottom.
           If the user wants them to LOOK aligned, equal height is the way. 
           BUT sticky won't work if the element is same height as container.
           So we wrap stats content in a sticky div.
        */
        position: relative;
        /* Reset sticky on the flex item */
        top: auto;
        display: flex;
        flex-direction: column;
    }

    /* Create a sticky wrapper for stats content if needed, 
       but simplified: Just let them be naturally height-aligned 
       and if game is taller, stats background stretches (looks equal). 
       Inner content stays at top. 
    */
}